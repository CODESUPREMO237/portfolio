<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 620" width="1200" height="620">
  <rect width="1200" height="620" fill="#0b1220"/>
  
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="1"/>
    </pattern>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#f59e0b"/>
    </marker>
  </defs>
  
  <rect width="1200" height="620" fill="url(#grid)"/>
  <text x="600" y="50" fill="#e2e8f0" font-family="monospace" font-size="20" font-weight="bold" text-anchor="middle" letter-spacing="2">Eventual Consistency via Outbox Pattern</text>

  <g transform="translate(100, 260)">
    <rect width="200" height="200" rx="12" fill="#1e293b" stroke="#38bdf8" stroke-width="2"/>
    <text x="100" y="40" fill="#e2e8f0" font-family="monospace" font-size="16" font-weight="bold" text-anchor="middle">Order Service (Go)</text>
    
    <path d="M 20 80 Q 100 60 180 80 L 180 140 Q 100 160 20 140 Z" fill="#0f172a" stroke="#38bdf8" stroke-width="1"/>
    <text x="100" y="110" fill="#38bdf8" font-family="monospace" font-size="12" text-anchor="middle">Orders Table</text>
    
    <path d="M 20 160 Q 100 140 180 160 L 180 180 Q 100 190 20 180 Z" fill="#0f172a" stroke="#f59e0b" stroke-width="1"/>
    <text x="100" y="175" fill="#f59e0b" font-family="monospace" font-size="10" text-anchor="middle">Outbox Table</text>
    <text x="-40" y="140" fill="#94a3b8" font-family="monospace" font-size="12" transform="rotate(-90)">Txn</text>
    <path d="M -5 80 L -5 180" fill="none" stroke="#94a3b8" stroke-width="2"/>
  </g>

  <g transform="translate(450, 310)">
    <rect width="160" height="60" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
    <text x="80" y="35" fill="#e2e8f0" font-family="monospace" font-size="14" font-weight="bold" text-anchor="middle">CDC / Debezium</text>
  </g>

  <g transform="translate(750, 150)">
    <rect width="100" height="300" rx="8" fill="#1e293b" stroke="#ef4444" stroke-width="2"/>
    <text x="-300" y="210" fill="#ef4444" font-family="monospace" font-size="18" font-weight="bold" transform="rotate(-90)" letter-spacing="4">KAFKA TOPIC</text>
  </g>

  <g transform="translate(1000, 200)">
    <rect width="160" height="80" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
    <text x="80" y="45" fill="#e2e8f0" font-family="monospace" font-size="14" font-weight="bold" text-anchor="middle">Inventory Service</text>
  </g>

  <g transform="translate(1000, 350)">
    <rect width="160" height="80" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
    <text x="80" y="45" fill="#e2e8f0" font-family="monospace" font-size="14" font-weight="bold" text-anchor="middle">Billing Service</text>
  </g>

  <path d="M 300 340 L 450 340" fill="none" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="375" y="330" fill="#f59e0b" font-family="monospace" font-size="12" text-anchor="middle">Tail Logs</text>
  
  <path d="M 610 340 L 750 340" fill="none" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="680" y="330" fill="#f59e0b" font-family="monospace" font-size="12" text-anchor="middle">Produce</text>
  
  <path d="M 850 240 L 1000 240" fill="none" stroke="#10b981" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="925" y="230" fill="#10b981" font-family="monospace" font-size="12" text-anchor="middle">Consume</text>

  <path d="M 850 390 L 1000 390" fill="none" stroke="#10b981" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="925" y="380" fill="#10b981" font-family="monospace" font-size="12" text-anchor="middle">Consume</text>

</svg>